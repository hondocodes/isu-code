<div class="splash__wrapper">
  <div class="splash bg-curve-down">
    <div class="splash__inner">
      <div class="splash__content">
        <div class="splash__title">
          Your Journey Starts Here
        </div>
        {{ content.field_p_modal_video }}
      </div>
      <div class="splash__media">
        <img src="{% spaceless %}{{ content.field_p_fallback_image }}{% endspaceless %}" alt="placeholder" class="absolute">
        {{ content.field_p_background_video }}
          <!-- <iframe id="splashVideo" src="https://www.youtube.com/embed/xdPUtUs2q_4?&amp;autoplay=1&amp;controls=0&amp;mute=1&amp;playsinline=1&amp;playlist=xdPUtUs2q_4&amp;loop=1&amp;enablejsapi=1"></iframe> -->
      </div>
      <button class="splash__control">
        <span class="screen-reader-text">Toggle video</span>
        <span class="material-symbols-outlined">
          pause
        </span>
      </button>
    </div>
  </div>
</div>

<script>
  const controls = document.querySelectorAll('.splash__control');

  for (const control of controls) {
    const video = control.parentNode?.querySelector('video');

    if (video) {
      video.addEventListener('pause', () => {
        control.querySelector('.material-symbols-outlined').innerHTML = "play_arrow";
      });

      video.addEventListener('play', () => {
        control.querySelector('.material-symbols-outlined').innerHTML = "pause";
      });

      control.addEventListener('click', () => {
        if (video.paused) {
          video.play();
        } else {
          video.pause();
        }
      });
    }
  }
</script>